# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools`. Do not edit manually.
> Last updated: 2026-02-14 on `darwin-arm64`

All benchmarks: warm cache (`--warmup 3`), 2 runs, output to pipe. NDJSON uses parallel processing.
Median of 2 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `-c '.'` | twitter.json | **0.0ms** | 12.9ms | 2.4ms | 5.2ms |
| `-c '.statuses'` | twitter.json | **6.0ms** | 17.7ms | 8.2ms | 10.2ms |
| `'.statuses|length'` | twitter.json | **2.8ms** | 10.6ms | 7.7ms | 6.2ms |
| `'.statuses[]|.user.name'` | twitter.json | **4.6ms** | 13.0ms | 6.1ms | 8.4ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | twitter.json | **5.4ms** | 9.5ms | 8.0ms | 7.6ms |
| `'[.statuses[]|.retweet_count|floor]'` | twitter.json | **3.9ms** | 10.5ms | 6.4ms | 7.7ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | twitter.json | **4.2ms** | 9.3ms | 5.7ms | 7.2ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | twitter.json | **4.1ms** | 11.5ms | 7.9ms | 8.2ms |
| `'[paths(scalars)]|length'` | twitter.json | **5.4ms** | 19.3ms | 19.6ms | 22.9ms |
| `'.statuses[0]|map_values(tojson)'` | twitter.json | **6.9ms** | 9.2ms | 7.4ms | 8.1ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | twitter.json | **5.2ms** | 11.3ms | 7.1ms | 7.2ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | twitter.json | **4.9ms** | 12.7ms | 6.1ms | 10.2ms |
| `'[.statuses[].user.screen_name][:5]'` | twitter.json | **7.0ms** | 9.3ms | 7.6ms | 7.7ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | twitter.json | **4.8ms** | 10.3ms | 6.1ms | 7.9ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | twitter.json | **3.6ms** | 12.5ms | 6.9ms | 9.0ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | twitter.json | **7.5ms** | 40.0ms | 24.8ms | 21.0ms |
| `-c '.statuses[0].retweet_count |= . + 1'` | twitter.json | **6.4ms** | 16.0ms | 6.5ms | 9.7ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | twitter.json | **5.6ms** | 18.3ms | 7.9ms | 11.5ms |
| `-c '.'` | large_twitter.json | **23.0ms** | 1.14s | 242.4ms | 462.4ms |
| `-c '.statuses'` | large_twitter.json | **219.2ms** | 1.22s | 242.4ms | 455.1ms |
| `'.statuses|length'` | large_twitter.json | **38.1ms** | 357.2ms | 152.4ms | 287.5ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **158.1ms** | 360.3ms | 156.1ms | 302.2ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **174.6ms** | 380.5ms | 171.2ms | 317.5ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **168.6ms** | 374.8ms | 158.2ms | 307.5ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **173.1ms** | 393.1ms | 193.4ms | 305.4ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **182.0ms** | 378.2ms | 165.9ms | 318.4ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **347.9ms** | 1.39s | 1.38s | 1.56s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **164.3ms** | 371.8ms | 152.3ms | 303.4ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **161.4ms** | 364.8ms | 169.5ms | 299.1ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **165.4ms** | 381.3ms | 165.4ms | 314.7ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **161.7ms** | 407.3ms | 171.0ms | 328.2ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **177.7ms** | 381.3ms | 154.6ms | 301.2ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **175.7ms** | 381.9ms | 164.2ms | 302.6ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **374.4ms** | 3.67s | 2.19s | 1.65s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **217.6ms** | 1.18s | 247.5ms | 462.2ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **220.5ms** | 1.18s | 253.9ms | 475.5ms |

### NDJSON (parallel processing)

jx processes NDJSON in parallel across all cores using rayon.

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `'.name'` | 100k.ndjson | **25.8ms** | 118.6ms | 65.4ms | 176.0ms |
| `-c '.'` | 100k.ndjson | **27.6ms** | 247.3ms | 71.7ms | 203.5ms |
| `-c 'select(.score>50)|{name,score}'` | 100k.ndjson | **26.5ms** | 170.9ms | 132.4ms | 199.8ms |
| `'.name'` | 1m.ndjson | **115.5ms** | 1.16s | 599.6ms | 1.69s |
| `-c '.'` | 1m.ndjson | **134.0ms** | 2.51s | 709.1ms | 2.22s |
| `-c 'select(.score>50)|{name,score}'` | 1m.ndjson | **134.0ms** | 1.58s | 1.14s | 1.72s |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **jx** | jq | jaq | gojq |
|------|------|------|------|
| **2.1 GB/s** | 43 MB/s | 202 MB/s | 106 MB/s |

### Summary (times faster than jq)

| Category | **jx** | jaq | gojq |
|----------|------|------|------|
| JSON (large_twitter.json) | **3.7x** | 2.5x | 1.5x |
| NDJSON (1m.ndjson) | **13.0x** | 2.1x | 0.9x |

Geometric mean of per-filter speedups (median time). Higher is better.
