# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools`. Do not edit manually.
> Last updated: 2026-02-15 on `darwin-arm64`

All benchmarks: warm cache (`--warmup 3`), 3 runs, output to pipe. NDJSON uses parallel processing.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `-c '.'` | twitter.json | **2.5ms** | 17.1ms | 6.9ms | 8.8ms |
| `-c '.statuses'` | twitter.json | **6.4ms** | 18.5ms | 6.9ms | 8.7ms |
| `'.statuses|length'` | twitter.json | **3.2ms** | 8.8ms | 4.9ms | 7.4ms |
| `'.statuses[]|.user.name'` | twitter.json | **3.5ms** | 9.4ms | 6.2ms | 7.3ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | twitter.json | **3.8ms** | 9.2ms | 6.6ms | 6.6ms |
| `'[.statuses[]|.retweet_count|floor]'` | twitter.json | **3.4ms** | 11.2ms | 4.7ms | 7.5ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | twitter.json | **3.9ms** | 9.5ms | 6.3ms | 7.1ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | twitter.json | **4.0ms** | 8.7ms | 6.8ms | 6.9ms |
| `'[paths(scalars)]|length'` | twitter.json | **6.7ms** | 20.2ms | 18.5ms | 20.2ms |
| `'.statuses[0]|map_values(tojson)'` | twitter.json | **3.8ms** | 10.8ms | 6.1ms | 6.5ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | twitter.json | **4.4ms** | 10.0ms | 6.2ms | 6.8ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | twitter.json | **3.5ms** | 9.0ms | 6.1ms | 6.6ms |
| `'[.statuses[].user.screen_name][:5]'` | twitter.json | **3.4ms** | 9.1ms | 6.9ms | 7.4ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | twitter.json | **3.8ms** | 9.1ms | 5.6ms | 6.7ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | twitter.json | **3.7ms** | 9.8ms | 6.1ms | 7.5ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | twitter.json | **8.2ms** | 38.8ms | 27.4ms | 20.9ms |
| `-c '.statuses[0].retweet_count |= . + 1'` | twitter.json | **5.6ms** | 16.7ms | 7.0ms | 8.5ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | twitter.json | **4.0ms** | 19.0ms | 7.0ms | 8.9ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | twitter.json | **4.2ms** | 9.6ms | 7.3ms | 6.7ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | twitter.json | **3.3ms** | 9.2ms | 5.0ms | 6.5ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | twitter.json | **8.9ms** | 9.5ms | 4.7ms | 5.9ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | twitter.json | **4.0ms** | 9.4ms | 6.6ms | 7.3ms |
| `-c '.'` | large_twitter.json | **21.7ms** | 1.16s | 258.4ms | 443.9ms |
| `-c '.statuses'` | large_twitter.json | **207.3ms** | 1.17s | 262.9ms | 446.6ms |
| `'.statuses|length'` | large_twitter.json | **32.7ms** | 394.5ms | 172.1ms | 290.6ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **152.9ms** | 406.7ms | 172.4ms | 301.3ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **168.1ms** | 450.8ms | 286.2ms | 338.8ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **172.6ms** | 443.4ms | 188.2ms | 312.6ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **174.1ms** | 456.3ms | 272.3ms | 382.7ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **172.5ms** | 440.9ms | 189.2ms | 314.1ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **377.7ms** | 1.50s | 1.52s | 1.53s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **158.4ms** | 405.5ms | 172.0ms | 293.2ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **175.6ms** | 432.1ms | 173.4ms | 302.2ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **164.8ms** | 446.5ms | 188.0ms | 311.0ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **151.2ms** | 401.5ms | 172.9ms | 293.5ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **155.1ms** | 406.5ms | 173.6ms | 297.0ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **154.2ms** | 404.6ms | 173.4ms | 295.9ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **372.9ms** | 3.57s | 2.43s | 1.60s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **246.4ms** | 1.25s | 290.4ms | 470.9ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **300.4ms** | 1.32s | 287.7ms | 498.2ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **180.1ms** | 483.3ms | 235.0ms | 327.9ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **176.6ms** | 438.4ms | 193.8ms | 315.1ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **157.8ms** | 425.4ms | 188.9ms | 391.1ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **184.3ms** | 464.6ms | 198.7ms | 382.3ms |

### NDJSON (parallel processing)

jx processes NDJSON in parallel across all cores using rayon.

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `'.name'` | 100k.ndjson | **23.8ms** | 134.7ms | 77.2ms | 172.8ms |
| `-c '.'` | 100k.ndjson | **26.9ms** | 269.0ms | 82.5ms | 220.6ms |
| `-c 'select(.score>50)|{name,score}'` | 100k.ndjson | **28.0ms** | 178.2ms | 136.8ms | 180.7ms |
| `'.name'` | 1m.ndjson | **117.3ms** | 1.29s | 714.9ms | 3.24s |
| `-c '.'` | 1m.ndjson | **136.9ms** | 2.58s | 785.4ms | 2.05s |
| `-c 'select(.score>50)|{name,score}'` | 1m.ndjson | **130.7ms** | 1.71s | 1.32s | 1.68s |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **jx** | jq | jaq | gojq |
|------|------|------|------|
| **2.2 GB/s** | 42 MB/s | 189 MB/s | 110 MB/s |

### Summary (times faster than jq)

| Category | **jx** | jaq | gojq |
|----------|------|------|------|
| JSON (large_twitter.json) | **3.8x** | 2.4x | 1.5x |
| NDJSON (1m.ndjson) | **13.9x** | 2.0x | 0.8x |

Geometric mean of per-filter speedups (median time). Higher is better.
