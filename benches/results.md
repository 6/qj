# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools`. Do not edit manually.
> Last updated: 2026-02-14 on `darwin-arm64`

All benchmarks: warm cache (`--warmup 3`), 3 runs, output to pipe. NDJSON uses parallel processing.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `-c '.'` | twitter.json | **<0.1ms** | 12.9ms | 2.9ms | 14.6ms |
| `-c '.statuses'` | twitter.json | **6.0ms** | 21.1ms | 8.5ms | 11.8ms |
| `'.statuses|length'` | twitter.json | **4.2ms** | 12.3ms | 7.0ms | 10.6ms |
| `'.statuses[]|.user.name'` | twitter.json | **7.2ms** | 9.1ms | 5.2ms | 10.9ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | twitter.json | **5.1ms** | 14.1ms | 6.2ms | 10.2ms |
| `'[.statuses[]|.retweet_count|floor]'` | twitter.json | **2.8ms** | 8.8ms | 6.6ms | 4.8ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | twitter.json | **3.5ms** | 9.6ms | 4.9ms | 9.5ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | twitter.json | **5.9ms** | 12.8ms | 4.9ms | 10.7ms |
| `'[paths(scalars)]|length'` | twitter.json | **5.8ms** | 23.7ms | 17.7ms | 20.4ms |
| `'.statuses[0]|map_values(tojson)'` | twitter.json | **9.0ms** | 8.1ms | 8.6ms | 7.9ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | twitter.json | **3.1ms** | 9.9ms | 6.5ms | 11.3ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | twitter.json | **4.4ms** | 8.0ms | 9.0ms | 8.9ms |
| `'[.statuses[].user.screen_name][:5]'` | twitter.json | **2.9ms** | 9.9ms | 3.9ms | 7.1ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | twitter.json | **3.7ms** | 14.0ms | 7.7ms | 9.6ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | twitter.json | **7.7ms** | 12.6ms | 9.2ms | 8.4ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | twitter.json | **4.8ms** | 39.7ms | 22.4ms | 24.0ms |
| `-c '.statuses[0].retweet_count |= . + 1'` | twitter.json | **5.1ms** | 17.5ms | 6.0ms | 8.2ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | twitter.json | **5.4ms** | 22.7ms | 8.0ms | 12.7ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | twitter.json | **7.5ms** | 11.1ms | 7.1ms | 11.8ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | twitter.json | **3.1ms** | 13.7ms | 6.2ms | 12.0ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | twitter.json | **4.4ms** | 8.4ms | 8.1ms | 7.9ms |
| `-c '.'` | large_twitter.json | **35.8ms** | 1.22s | 276.4ms | 485.1ms |
| `-c '.statuses'` | large_twitter.json | **242.9ms** | 1.20s | 242.6ms | 460.4ms |
| `'.statuses|length'` | large_twitter.json | **37.1ms** | 383.5ms | 218.0ms | 367.9ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **187.3ms** | 435.8ms | 192.5ms | 334.9ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **240.6ms** | 428.8ms | 178.3ms | 331.8ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **189.7ms** | 424.3ms | 182.9ms | 322.6ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **185.4ms** | 434.2ms | 209.9ms | 329.5ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **191.6ms** | 423.3ms | 182.8ms | 325.5ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **374.9ms** | 1.45s | 1.40s | 1.59s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **189.9ms** | 388.2ms | 153.6ms | 296.5ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **177.4ms** | 380.0ms | 164.8ms | 312.8ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **170.9ms** | 387.1ms | 173.8ms | 316.0ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **155.7ms** | 365.9ms | 152.5ms | 298.1ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **155.9ms** | 372.0ms | 154.4ms | 303.3ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **224.4ms** | 482.2ms | 194.8ms | 338.0ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **386.9ms** | 3.61s | 2.17s | 1.68s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **236.4ms** | 1.52s | 279.8ms | 464.0ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **226.2ms** | 1.28s | 279.7ms | 510.3ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **206.6ms** | 476.6ms | 230.2ms | 348.3ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **189.7ms** | 439.4ms | 185.3ms | 328.1ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **191.3ms** | 418.5ms | 184.2ms | 320.0ms |

### NDJSON (parallel processing)

jx processes NDJSON in parallel across all cores using rayon.

| Filter | File | **jx** | jq | jaq | gojq |
|--------|------|------|------|------|------|
| `'.name'` | 100k.ndjson | **27.4ms** | 127.6ms | 65.9ms | 219.4ms |
| `-c '.'` | 100k.ndjson | **22.8ms** | 274.0ms | 77.7ms | 229.8ms |
| `-c 'select(.score>50)|{name,score}'` | 100k.ndjson | **27.7ms** | 168.1ms | 119.7ms | 202.0ms |
| `'.name'` | 1m.ndjson | **126.1ms** | 1.18s | 616.5ms | 1.77s |
| `-c '.'` | 1m.ndjson | **128.1ms** | 2.56s | 684.8ms | 2.02s |
| `-c 'select(.score>50)|{name,score}'` | 1m.ndjson | **141.9ms** | 1.54s | 1.15s | 1.77s |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **jx** | jq | jaq | gojq |
|------|------|------|------|
| **1.3 GB/s** | 40 MB/s | 177 MB/s | 101 MB/s |

### Summary (times faster than jq)

| Category | **jx** | jaq | gojq |
|----------|------|------|------|
| JSON (large_twitter.json) | **3.4x** | 2.5x | 1.5x |
| NDJSON (1m.ndjson) | **12.7x** | 2.1x | 0.9x |

Geometric mean of per-filter speedups (median time). Higher is better.
