# CI Benchmarks

> Auto-generated by CI on shared GitHub Actions runners.
> These runners have variable performance due to shared tenancy and noisy neighbors.
> Treat these numbers as directional — for authoritative results, run on dedicated hardware.

::group::Artifact structure
benches/artifacts/benchmarks-linux-x86_64/results_json_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_json_ci.md
::endgroup::
---

## NDJSON Speed

### darwin-arm64

# GH Archive Benchmark

> Generated: 2026-02-19T03:46:12Z on `Apple M1 (Virtual) (7 GB)` (total time: 400s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **229.8ms** | **46.1x** | 10.59s | 4.47s | 10.20s |
| `-c 'length'` | **291.3ms** | **35.8x** | 10.43s | 4.13s | 10.40s |
| `-c 'keys'` | **386.8ms** | **29.1x** | 11.24s | 4.40s | 9.38s |
| `-c 'select(.type == "PushEvent")'` | **320.3ms** | **64.7x** | 20.71s | 6.23s | 15.32s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **539.7ms** | **22.2x** | 11.98s | 5.25s | 13.03s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.03s** | **12.9x** | 13.21s | 4.92s | 11.07s |


### linux-x86_64

# GH Archive Benchmark

> Generated: 2026-02-19T03:46:34Z on `linux-x86_64` (total time: 453s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **247.0ms** | **55.9x** | 13.81s | 6.42s | 13.29s |
| `-c 'length'` | **349.0ms** | **40.0x** | 13.95s | 6.14s | 13.23s |
| `-c 'keys'` | **421.1ms** | **34.5x** | 14.53s | 6.67s | 13.73s |
| `-c 'select(.type == "PushEvent")'` | **270.3ms** | **68.7x** | 18.58s | 8.59s | 15.60s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **498.9ms** | **29.4x** | 14.67s | 7.66s | 13.81s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.13s** | **13.2x** | 14.86s | 7.43s | 14.05s |


## NDJSON Memory

### darwin-arm64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-19T03:53:19Z on `Apple M1 (Virtual) (7 GB)` (total time: 274s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **114.6 MB** | **25.55x** | 4.5 MB | 1.12 GB | 13.6 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **114.4 MB** | **25.33x** | 4.5 MB | 1.12 GB | 13.9 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **125.4 MB** | **27.96x** | 4.5 MB | 1.12 GB | 25.3 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **114.6 MB** | **25.55x** |
| jq | 4.5 MB | 1.00x |
| jaq | 1.12 GB | 255.09x |
| gojq | 13.9 MB | 3.10x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-19T03:54:36Z on `linux-x86_64` (total time: 314s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **175.1 MB** | **64.78x** | 2.7 MB | 1.11 GB | 11.3 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **179.0 MB** | **66.23x** | 2.7 MB | 1.11 GB | 11.3 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **180.0 MB** | **69.83x** | 2.6 MB | 1.11 GB | 11.5 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **179.0 MB** | **66.23x** |
| jq | 2.7 MB | 1.00x |
| jaq | 1.11 GB | 421.42x |
| gojq | 11.3 MB | 4.20x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

---

## JSON Speed

### darwin-arm64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T03:36:53Z on `Apple M1 (Virtual) (7 GB)` (total time: 558s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **47.6ms** | **35.5x** | 1.69s | 380.3ms | 681.3ms |
| `-c '.statuses'` | large_twitter.json | **292.5ms** | **5.9x** | 1.72s | 359.4ms | 671.7ms |
| `'.statuses|length'` | large_twitter.json | **42.9ms** | **12.6x** | 541.4ms | 238.1ms | 430.9ms |
| `-c 'keys'` | large_twitter.json | **37.9ms** | **13.9x** | 525.3ms | 249.0ms | 462.5ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **132.0ms** | **4.0x** | 530.3ms | 237.7ms | 477.0ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **46.6ms** | **11.3x** | 528.2ms | 238.2ms | 449.3ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **73.4ms** | **12.7x** | 930.7ms | 283.3ms | 522.8ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **78.8ms** | **12.5x** | 985.3ms | 291.7ms | 533.3ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **42.1ms** | **12.9x** | 541.3ms | 261.4ms | 436.1ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **43.7ms** | **12.4x** | 540.3ms | 244.4ms | 485.1ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **225.9ms** | **2.5x** | 553.8ms | 248.7ms | 511.3ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **143.3ms** | **3.8x** | 539.3ms | 235.0ms | 442.7ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **141.0ms** | **3.9x** | 553.5ms | 282.3ms | 439.8ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **227.3ms** | **2.4x** | 538.8ms | 240.7ms | 444.4ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **455.7ms** | **4.2x** | 1.94s | 2.07s | 2.25s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **216.0ms** | **2.4x** | 519.0ms | 227.3ms | 438.3ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **214.2ms** | **2.5x** | 534.2ms | 243.0ms | 443.9ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **232.1ms** | **2.4x** | 557.5ms | 260.8ms | 489.2ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **136.8ms** | **3.9x** | 536.8ms | 253.0ms | 468.5ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **140.5ms** | **3.8x** | 531.3ms | 239.2ms | 453.6ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **140.4ms** | **3.8x** | 530.5ms | 236.4ms | 451.6ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **486.6ms** | **10.3x** | 5.01s | 2.95s | 2.47s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **286.7ms** | **6.0x** | 1.73s | 375.9ms | 676.5ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **311.8ms** | **5.6x** | 1.76s | 371.4ms | 703.2ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **160.3ms** | **3.9x** | 617.8ms | 306.2ms | 498.6ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **219.9ms** | **2.6x** | 582.0ms | 247.3ms | 460.2ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **144.4ms** | **4.1x** | 595.2ms | 263.4ms | 502.6ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **227.5ms** | **2.5x** | 560.6ms | 271.7ms | 497.1ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **218.1ms** | **2.5x** | 545.5ms | 246.4ms | 497.8ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **278.4ms** | **2.0x** | 544.6ms | 233.2ms | 448.7ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **1.0 GB/s** | **35.5x** | 29 MB/s | 129 MB/s | 72 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **5.1x** | 2.4x | 1.4x |

Geometric mean of per-filter speedups (median time). Higher is better.

### linux-x86_64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T03:36:54Z on `linux-x86_64` (total time: 580s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **80.4ms** | **18.7x** | 1.50s | 642.5ms | 999.3ms |
| `-c '.statuses'` | large_twitter.json | **356.7ms** | **4.2x** | 1.49s | 639.3ms | 993.0ms |
| `'.statuses|length'` | large_twitter.json | **56.1ms** | **16.4x** | 922.5ms | 339.1ms | 603.6ms |
| `-c 'keys'` | large_twitter.json | **56.4ms** | **16.4x** | 925.8ms | 338.2ms | 593.5ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **174.1ms** | **4.7x** | 817.8ms | 359.8ms | 632.7ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **59.9ms** | **13.7x** | 818.4ms | 361.4ms | 632.1ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **82.6ms** | **14.0x** | 1.16s | 477.3ms | 754.2ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **87.3ms** | **13.8x** | 1.20s | 516.2ms | 782.7ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **57.6ms** | **16.3x** | 939.0ms | 376.8ms | 609.0ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **57.8ms** | **16.2x** | 936.5ms | 344.6ms | 601.1ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **278.8ms** | **3.0x** | 831.7ms | 379.1ms | 649.6ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **184.7ms** | **5.1x** | 936.3ms | 351.6ms | 609.4ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **181.1ms** | **5.4x** | 973.7ms | 437.5ms | 627.2ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **269.8ms** | **3.6x** | 961.2ms | 371.2ms | 652.1ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **500.5ms** | **6.3x** | 3.14s | 3.37s | 3.56s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **264.8ms** | **3.5x** | 934.2ms | 340.8ms | 605.8ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **264.7ms** | **3.5x** | 935.7ms | 352.4ms | 610.9ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **270.2ms** | **3.1x** | 835.1ms | 377.8ms | 644.1ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **177.9ms** | **5.3x** | 945.8ms | 354.6ms | 618.2ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **184.0ms** | **5.2x** | 959.2ms | 355.1ms | 619.9ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **187.6ms** | **5.0x** | 939.3ms | 356.7ms | 612.4ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **603.9ms** | **10.9x** | 6.57s | 5.46s | 3.48s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **353.7ms** | **4.2x** | 1.50s | 643.2ms | 993.4ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **376.7ms** | **4.3x** | 1.61s | 656.7ms | 1.05s |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **193.7ms** | **5.3x** | 1.04s | 452.6ms | 682.6ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **271.6ms** | **3.6x** | 969.3ms | 372.7ms | 642.1ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **178.1ms** | **5.3x** | 938.9ms | 364.0ms | 612.3ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **288.7ms** | **3.1x** | 907.4ms | 381.5ms | 633.6ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **275.8ms** | **3.5x** | 961.9ms | 361.8ms | 624.9ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **275.5ms** | **3.4x** | 936.6ms | 354.9ms | 624.7ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **609 MB/s** | **18.7x** | 33 MB/s | 76 MB/s | 49 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **6.2x** | 2.3x | 1.5x |

Geometric mean of per-filter speedups (median time). Higher is better.

## JSON Memory

### darwin-arm64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T03:52:53Z on `Apple M1 (Virtual) (7 GB)` (total time: 26s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **248.4 MB** | **0.84x** | 294.6 MB | 302.3 MB | 312.2 MB |
| `-c '.statuses[0].user.screen_name'` | **507.4 MB** | **1.76x** | 288.1 MB | 302.4 MB | 257.7 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **508.7 MB** | **1.76x** | 288.7 MB | 303.6 MB | 260.1 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **355.5 MB** | **1.21x** | 293.2 MB | 302.6 MB | 265.1 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **507.4 MB** | **1.73x** |
| jq | 293.2 MB | 1.00x |
| jaq | 302.6 MB | 1.03x |
| gojq | 265.1 MB | 0.90x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T03:54:07Z on `linux-x86_64` (total time: 29s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **217.9 MB** | **0.78x** | 278.7 MB | 300.8 MB | 315.1 MB |
| `-c '.statuses[0].user.screen_name'` | **323.0 MB** | **1.19x** | 270.8 MB | 300.8 MB | 262.0 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **323.7 MB** | **1.19x** | 271.5 MB | 302.8 MB | 264.1 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **322.9 MB** | **1.17x** | 275.3 MB | 302.8 MB | 268.4 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **323.0 MB** | **1.17x** |
| jq | 275.3 MB | 1.00x |
| jaq | 302.8 MB | 1.10x |
| gojq | 268.4 MB | 0.97x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

