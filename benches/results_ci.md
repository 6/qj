# CI Benchmarks

> Auto-generated by CI on shared GitHub Actions runners.
> These runners have variable performance due to shared tenancy and noisy neighbors.
> Treat these numbers as directional — for authoritative results, run on dedicated hardware.

::group::Artifact structure
benches/artifacts/benchmarks-linux-x86_64/results_json_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_json_ci.md
::endgroup::
---

## NDJSON Speed

### darwin-arm64

# GH Archive Benchmark

> Generated: 2026-02-18T14:52:47Z on `Apple M1 (Virtual) (7 GB)` (total time: 381s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **289.9ms** | **36.8x** | 10.65s | 4.35s | 10.00s |
| `-c 'length'` | **475.0ms** | **21.5x** | 10.23s | 4.06s | 10.23s |
| `-c 'keys'` | **678.8ms** | **19.1x** | 12.99s | 4.37s | 10.13s |
| `-c 'select(.type == "PushEvent")'` | **230.6ms** | **82.5x** | 19.03s | 5.71s | 12.31s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **460.6ms** | **24.7x** | 11.39s | 4.80s | 10.00s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.31s** | **8.6x** | 11.32s | 4.80s | 10.46s |


### linux-x86_64

# GH Archive Benchmark

> Generated: 2026-02-18T14:51:49Z on `linux-x86_64` (total time: 455s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **252.1ms** | **55.9x** | 14.10s | 6.44s | 13.30s |
| `-c 'length'` | **350.6ms** | **40.0x** | 14.01s | 6.14s | 13.31s |
| `-c 'keys'` | **428.6ms** | **33.8x** | 14.47s | 6.61s | 13.65s |
| `-c 'select(.type == "PushEvent")'` | **272.6ms** | **69.2x** | 18.86s | 8.59s | 15.84s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **522.8ms** | **28.3x** | 14.79s | 7.62s | 13.88s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.10s** | **13.6x** | 15.00s | 7.38s | 14.26s |


## NDJSON Memory

### darwin-arm64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-18T14:59:30Z on `Apple M1 (Virtual) (7 GB)` (total time: 233s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **114.8 MB** | **26.05x** | 4.4 MB | 1.12 GB | 13.1 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **114.1 MB** | **25.45x** | 4.5 MB | 1.12 GB | 21.6 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **125.8 MB** | **28.46x** | 4.4 MB | 1.12 GB | 25.4 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **114.8 MB** | **25.95x** |
| jq | 4.4 MB | 1.00x |
| jaq | 1.12 GB | 258.69x |
| gojq | 21.6 MB | 4.89x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-18T14:59:54Z on `linux-x86_64` (total time: 316s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **175.2 MB** | **62.02x** | 2.8 MB | 1.11 GB | 12.7 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **181.2 MB** | **67.03x** | 2.7 MB | 1.11 GB | 11.2 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **181.1 MB** | **67.00x** | 2.7 MB | 1.11 GB | 11.4 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **181.1 MB** | **67.00x** |
| jq | 2.7 MB | 1.00x |
| jaq | 1.11 GB | 421.43x |
| gojq | 11.4 MB | 4.21x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

---

## JSON Speed

### darwin-arm64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T14:42:20Z on `Apple M1 (Virtual) (7 GB)` (total time: 626s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **44.8ms** | **41.9x** | 1.88s | 490.3ms | 952.3ms |
| `-c '.statuses'` | large_twitter.json | **331.1ms** | **6.5x** | 2.16s | 406.3ms | 734.5ms |
| `'.statuses|length'` | large_twitter.json | **39.3ms** | **13.5x** | 532.1ms | 236.9ms | 450.0ms |
| `-c 'keys'` | large_twitter.json | **47.5ms** | **16.2x** | 769.6ms | 332.0ms | 640.8ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **146.5ms** | **5.6x** | 824.0ms | 426.0ms | 718.5ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **71.1ms** | **8.6x** | 614.9ms | 246.7ms | 575.9ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **76.5ms** | **13.9x** | 1.06s | 283.6ms | 523.4ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **84.0ms** | **13.1x** | 1.10s | 342.3ms | 578.8ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **43.8ms** | **13.1x** | 572.6ms | 284.7ms | 561.6ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **60.0ms** | **10.1x** | 602.7ms | 238.9ms | 508.7ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **339.9ms** | **2.1x** | 713.4ms | 330.4ms | 565.9ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **173.3ms** | **4.2x** | 734.1ms | 258.4ms | 544.8ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **162.7ms** | **3.8x** | 625.6ms | 410.2ms | 668.3ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **234.7ms** | **2.4x** | 559.7ms | 249.3ms | 531.7ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **573.5ms** | **5.2x** | 2.98s | 2.54s | 2.74s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **280.7ms** | **2.6x** | 735.1ms | 327.9ms | 451.0ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **313.7ms** | **2.4x** | 746.3ms | 377.3ms | 613.4ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **221.9ms** | **2.7x** | 595.5ms | 263.9ms | 554.9ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **129.2ms** | **4.5x** | 581.2ms | 284.7ms | 646.1ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **189.5ms** | **2.8x** | 527.6ms | 280.6ms | 475.3ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **227.0ms** | **2.6x** | 586.0ms | 241.2ms | 608.9ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **513.1ms** | **11.0x** | 5.64s | 3.13s | 2.75s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **314.4ms** | **5.7x** | 1.78s | 371.2ms | 674.4ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **322.1ms** | **5.3x** | 1.72s | 379.8ms | 756.4ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **160.4ms** | **3.9x** | 620.1ms | 303.0ms | 483.1ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **227.7ms** | **2.5x** | 571.1ms | 262.0ms | 464.2ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **165.4ms** | **3.6x** | 597.3ms | 252.0ms | 454.7ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **257.7ms** | **2.5x** | 638.2ms | 296.2ms | 486.1ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **239.4ms** | **2.6x** | 626.8ms | 278.8ms | 576.6ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **236.0ms** | **2.5x** | 595.7ms | 279.0ms | 674.6ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **1.1 GB/s** | **41.9x** | 26 MB/s | 100 MB/s | 51 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **5.2x** | 2.4x | 1.3x |

Geometric mean of per-filter speedups (median time). Higher is better.

### linux-x86_64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T14:42:10Z on `linux-x86_64` (total time: 579s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **86.2ms** | **17.4x** | 1.50s | 642.8ms | 997.7ms |
| `-c '.statuses'` | large_twitter.json | **370.0ms** | **4.1x** | 1.51s | 640.8ms | 995.6ms |
| `'.statuses|length'` | large_twitter.json | **56.1ms** | **16.5x** | 924.5ms | 336.2ms | 588.4ms |
| `-c 'keys'` | large_twitter.json | **56.3ms** | **16.5x** | 927.0ms | 336.1ms | 606.4ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **177.8ms** | **4.6x** | 814.2ms | 358.1ms | 628.4ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **60.3ms** | **13.6x** | 818.2ms | 357.4ms | 634.6ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **82.6ms** | **13.7x** | 1.14s | 468.3ms | 750.9ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **87.6ms** | **13.7x** | 1.20s | 502.7ms | 776.3ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **57.4ms** | **16.2x** | 932.1ms | 370.3ms | 599.4ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **65.1ms** | **14.4x** | 934.0ms | 341.4ms | 600.4ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **295.5ms** | **2.8x** | 833.8ms | 375.3ms | 643.6ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **186.1ms** | **5.0x** | 936.9ms | 348.7ms | 602.7ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **183.1ms** | **5.3x** | 968.9ms | 437.2ms | 623.2ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **281.3ms** | **3.4x** | 946.8ms | 362.5ms | 630.6ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **497.3ms** | **6.3x** | 3.13s | 3.31s | 3.56s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **265.9ms** | **3.5x** | 932.7ms | 338.3ms | 597.5ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **273.8ms** | **3.4x** | 934.3ms | 347.1ms | 614.5ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **275.1ms** | **3.0x** | 837.7ms | 374.8ms | 650.7ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **180.6ms** | **5.2x** | 939.0ms | 352.8ms | 609.0ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **194.0ms** | **4.9x** | 945.8ms | 352.9ms | 614.7ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **198.1ms** | **4.7x** | 939.3ms | 358.1ms | 625.1ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **581.6ms** | **10.9x** | 6.36s | 5.41s | 3.49s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **369.9ms** | **4.0x** | 1.50s | 639.6ms | 998.8ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **393.5ms** | **4.2x** | 1.65s | 649.7ms | 1.05s |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **194.9ms** | **5.4x** | 1.04s | 448.2ms | 685.0ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **278.0ms** | **3.5x** | 972.1ms | 375.9ms | 640.3ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **188.3ms** | **5.0x** | 944.4ms | 364.4ms | 608.2ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **295.7ms** | **3.1x** | 910.4ms | 380.6ms | 634.5ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **283.8ms** | **3.4x** | 959.5ms | 364.0ms | 629.7ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **285.8ms** | **3.3x** | 939.7ms | 354.6ms | 609.8ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **568 MB/s** | **17.4x** | 33 MB/s | 76 MB/s | 49 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **6.0x** | 2.4x | 1.5x |

Geometric mean of per-filter speedups (median time). Higher is better.

## JSON Memory

### darwin-arm64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T14:59:08Z on `Apple M1 (Virtual) (7 GB)` (total time: 22s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **248.4 MB** | **0.84x** | 294.6 MB | 302.4 MB | 312.1 MB |
| `-c '.statuses[0].user.screen_name'` | **507.4 MB** | **1.76x** | 288.1 MB | 302.3 MB | 257.7 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **508.7 MB** | **1.76x** | 288.7 MB | 303.3 MB | 260.0 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **355.5 MB** | **1.21x** | 293.2 MB | 302.7 MB | 264.0 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **507.4 MB** | **1.73x** |
| jq | 293.2 MB | 1.00x |
| jaq | 302.7 MB | 1.03x |
| gojq | 264.0 MB | 0.90x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T14:59:24Z on `linux-x86_64` (total time: 29s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **217.8 MB** | **0.78x** | 278.7 MB | 300.8 MB | 313.4 MB |
| `-c '.statuses[0].user.screen_name'` | **322.7 MB** | **1.19x** | 270.9 MB | 300.8 MB | 262.0 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **323.9 MB** | **1.19x** | 271.5 MB | 302.8 MB | 262.2 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **323.0 MB** | **1.17x** | 275.2 MB | 302.8 MB | 268.2 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **323.0 MB** | **1.17x** |
| jq | 275.2 MB | 1.00x |
| jaq | 302.8 MB | 1.10x |
| gojq | 268.2 MB | 0.97x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

