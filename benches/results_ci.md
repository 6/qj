# CI Benchmarks

> Auto-generated by CI on shared GitHub Actions runners.
> These runners have variable performance due to shared tenancy and noisy neighbors.
> Treat these numbers as directional — for authoritative results, run on dedicated hardware.

::group::Artifact structure
benches/artifacts/benchmarks-linux-x86_64/results_json_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_json_ci.md
::endgroup::
---

## NDJSON Speed

### darwin-arm64

# GH Archive Benchmark

> Generated: 2026-02-19T05:04:40Z on `Apple M1 (Virtual) (7 GB)` (total time: 376s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **447.4ms** | **24.3x** | 10.86s | 4.18s | 9.58s |
| `-c 'length'` | **454.9ms** | **22.8x** | 10.37s | 4.21s | 9.74s |
| `-c 'keys'` | **527.4ms** | **21.0x** | 11.07s | 4.40s | 10.20s |
| `-c 'select(.type == "PushEvent")'` | **275.7ms** | **68.4x** | 18.86s | 5.38s | 11.44s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **753.4ms** | **15.5x** | 11.66s | 5.00s | 11.02s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **845.0ms** | **13.4x** | 11.31s | 4.67s | 9.99s |


### linux-x86_64

# GH Archive Benchmark

> Generated: 2026-02-19T05:04:21Z on `linux-x86_64` (total time: 452s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **267.4ms** | **52.1x** | 13.93s | 6.43s | 13.27s |
| `-c 'length'` | **348.2ms** | **39.5x** | 13.76s | 6.14s | 13.29s |
| `-c 'keys'` | **425.3ms** | **33.9x** | 14.42s | 6.62s | 13.63s |
| `-c 'select(.type == "PushEvent")'` | **271.8ms** | **68.9x** | 18.74s | 8.55s | 15.81s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **474.5ms** | **30.7x** | 14.58s | 7.57s | 13.82s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.12s** | **13.2x** | 14.78s | 7.36s | 14.11s |


## NDJSON Memory

### darwin-arm64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-19T05:11:21Z on `Apple M1 (Virtual) (7 GB)` (total time: 234s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **114.4 MB** | **25.51x** | 4.5 MB | 1.12 GB | 14.3 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **113.5 MB** | **25.32x** | 4.5 MB | 1.12 GB | 13.8 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **125.5 MB** | **27.98x** | 4.5 MB | 1.12 GB | 14.7 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **114.4 MB** | **25.51x** |
| jq | 4.5 MB | 1.00x |
| jaq | 1.12 GB | 255.08x |
| gojq | 14.3 MB | 3.20x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-19T05:12:22Z on `linux-x86_64` (total time: 315s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **175.1 MB** | **64.85x** | 2.7 MB | 1.11 GB | 12.4 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **178.9 MB** | **66.20x** | 2.7 MB | 1.11 GB | 11.7 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **180.8 MB** | **66.88x** | 2.7 MB | 1.11 GB | 11.4 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **178.9 MB** | **66.20x** |
| jq | 2.7 MB | 1.00x |
| jaq | 1.11 GB | 421.33x |
| gojq | 11.7 MB | 4.33x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

---

## JSON Speed

### darwin-arm64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T04:54:47Z on `Apple M1 (Virtual) (7 GB)` (total time: 592s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **48.8ms** | **35.3x** | 1.72s | 487.1ms | 1.12s |
| `-c '.statuses'` | large_twitter.json | **296.4ms** | **6.6x** | 1.96s | 367.8ms | 696.1ms |
| `'.statuses|length'` | large_twitter.json | **74.3ms** | **7.3x** | 541.2ms | 209.5ms | 477.4ms |
| `-c 'keys'` | large_twitter.json | **111.8ms** | **4.9x** | 547.2ms | 227.9ms | 436.0ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **129.9ms** | **4.3x** | 553.3ms | 309.3ms | 576.7ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **51.9ms** | **10.9x** | 568.1ms | 237.2ms | 521.7ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **60.2ms** | **16.6x** | 999.9ms | 386.4ms | 666.3ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **81.7ms** | **15.1x** | 1.24s | 361.7ms | 625.7ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **45.0ms** | **12.4x** | 558.6ms | 340.2ms | 572.8ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **32.4ms** | **16.8x** | 544.8ms | 242.0ms | 535.3ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **232.7ms** | **2.4x** | 566.2ms | 279.0ms | 592.7ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **189.8ms** | **3.0x** | 562.9ms | 262.4ms | 509.0ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **171.3ms** | **3.2x** | 554.5ms | 283.0ms | 524.6ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **231.8ms** | **2.2x** | 517.6ms | 235.1ms | 474.9ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **435.7ms** | **4.6x** | 2.01s | 2.03s | 2.42s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **222.4ms** | **2.5x** | 566.7ms | 243.2ms | 474.9ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **223.1ms** | **2.5x** | 567.6ms | 252.0ms | 481.3ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **209.7ms** | **2.7x** | 571.5ms | 270.0ms | 530.9ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **137.3ms** | **3.8x** | 525.7ms | 239.9ms | 477.8ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **147.8ms** | **3.7x** | 548.4ms | 233.5ms | 447.4ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **148.7ms** | **3.7x** | 545.8ms | 248.5ms | 453.0ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **486.0ms** | **10.5x** | 5.12s | 3.01s | 2.50s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **308.3ms** | **6.0x** | 1.83s | 381.4ms | 671.5ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **317.3ms** | **5.5x** | 1.73s | 366.4ms | 795.6ms |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **142.9ms** | **4.6x** | 650.1ms | 307.1ms | 519.4ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **197.5ms** | **2.7x** | 541.5ms | 235.3ms | 448.8ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **129.0ms** | **3.9x** | 509.5ms | 237.9ms | 432.1ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **336.0ms** | **1.9x** | 633.4ms | 257.3ms | 465.5ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **265.3ms** | **2.4x** | 629.5ms | 303.5ms | 462.7ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **221.6ms** | **2.8x** | 614.9ms | 294.8ms | 543.3ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **1003 MB/s** | **35.3x** | 28 MB/s | 100 MB/s | 44 MB/s |

### Summary — JSON (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **5.0x** | 2.4x | 1.3x |

Geometric mean of per-filter speedups (median time). Higher is better.

### linux-x86_64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T04:54:37Z on `linux-x86_64` (total time: 584s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **81.4ms** | **18.4x** | 1.50s | 648.1ms | 1.02s |
| `-c '.statuses'` | large_twitter.json | **371.5ms** | **4.1x** | 1.52s | 647.0ms | 1.01s |
| `'.statuses|length'` | large_twitter.json | **57.2ms** | **16.3x** | 932.6ms | 340.3ms | 603.5ms |
| `-c 'keys'` | large_twitter.json | **57.2ms** | **16.4x** | 938.8ms | 341.0ms | 604.2ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **178.8ms** | **4.6x** | 818.8ms | 364.5ms | 644.9ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **61.8ms** | **13.3x** | 824.5ms | 363.5ms | 646.4ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **86.1ms** | **13.5x** | 1.16s | 478.9ms | 765.4ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **88.5ms** | **13.8x** | 1.22s | 509.6ms | 779.5ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **58.4ms** | **16.2x** | 944.8ms | 376.6ms | 606.6ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **58.4ms** | **16.1x** | 943.8ms | 344.7ms | 615.3ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **283.9ms** | **2.9x** | 835.4ms | 383.2ms | 659.9ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **187.0ms** | **5.1x** | 945.2ms | 355.2ms | 621.5ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **187.8ms** | **5.2x** | 982.7ms | 447.1ms | 639.7ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **274.8ms** | **3.5x** | 963.3ms | 372.0ms | 655.9ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **496.6ms** | **6.3x** | 3.15s | 3.40s | 3.56s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **268.5ms** | **3.5x** | 939.2ms | 342.9ms | 610.6ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **267.7ms** | **3.5x** | 949.6ms | 357.2ms | 625.0ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **273.1ms** | **3.1x** | 842.2ms | 383.4ms | 669.3ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **180.9ms** | **5.3x** | 955.3ms | 356.5ms | 619.0ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **187.5ms** | **5.1x** | 958.4ms | 354.7ms | 623.1ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **188.9ms** | **5.1x** | 957.3ms | 355.8ms | 616.4ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **558.4ms** | **11.4x** | 6.38s | 5.49s | 3.49s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **359.9ms** | **4.2x** | 1.50s | 645.9ms | 1.02s |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **380.7ms** | **4.3x** | 1.62s | 655.8ms | 1.06s |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **198.1ms** | **5.3x** | 1.05s | 456.9ms | 690.5ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **276.4ms** | **3.6x** | 988.7ms | 385.9ms | 649.5ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **180.5ms** | **5.3x** | 952.8ms | 366.9ms | 619.0ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **294.6ms** | **3.1x** | 921.1ms | 391.5ms | 638.8ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **276.4ms** | **3.5x** | 958.4ms | 359.4ms | 631.5ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **277.7ms** | **3.4x** | 942.1ms | 353.4ms | 622.7ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **601 MB/s** | **18.4x** | 33 MB/s | 76 MB/s | 48 MB/s |

### Summary — JSON (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **6.1x** | 2.4x | 1.5x |

Geometric mean of per-filter speedups (median time). Higher is better.

## JSON Memory

### darwin-arm64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T05:10:57Z on `Apple M1 (Virtual) (7 GB)` (total time: 23s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **248.4 MB** | **0.84x** | 294.5 MB | 302.3 MB | 312.1 MB |
| `-c '.statuses[0].user.screen_name'` | **507.4 MB** | **1.76x** | 288.1 MB | 302.4 MB | 257.7 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **508.7 MB** | **1.76x** | 288.7 MB | 303.4 MB | 260.1 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **355.5 MB** | **1.21x** | 293.2 MB | 302.7 MB | 265.0 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **507.4 MB** | **1.73x** |
| jq | 293.2 MB | 1.00x |
| jaq | 302.7 MB | 1.03x |
| gojq | 265.0 MB | 0.90x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-19T05:11:53Z on `linux-x86_64` (total time: 29s)
> Tools: qj 0.1.1, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **217.9 MB** | **0.78x** | 278.7 MB | 300.8 MB | 315.2 MB |
| `-c '.statuses[0].user.screen_name'` | **324.0 MB** | **1.20x** | 271.0 MB | 300.8 MB | 262.0 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **323.0 MB** | **1.19x** | 271.4 MB | 302.8 MB | 264.2 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **323.0 MB** | **1.17x** | 275.3 MB | 302.8 MB | 268.2 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **323.0 MB** | **1.17x** |
| jq | 275.3 MB | 1.00x |
| jaq | 302.8 MB | 1.10x |
| gojq | 268.2 MB | 0.97x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

