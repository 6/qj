# CI Benchmarks

> Auto-generated by CI on shared GitHub Actions runners.
> These runners have variable performance due to shared tenancy and noisy neighbors.
> Treat these numbers as directional — for authoritative results, run on dedicated hardware.

::group::Artifact structure
benches/artifacts/benchmarks-linux-x86_64/results_json_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_ndjson_ci.md
benches/artifacts/benchmarks-linux-x86_64/results_mem_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_json_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_ndjson_ci.md
benches/artifacts/benchmarks-darwin-arm64/results_mem_json_ci.md
::endgroup::
---

## NDJSON Speed

### darwin-arm64

# GH Archive Benchmark

> Generated: 2026-02-18T00:30:24Z on `Apple M1 (Virtual) (7 GB)` (total time: 472s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **521.8ms** | **25.5x** | 13.31s | 6.68s | 13.10s |
| `-c 'length'` | **689.6ms** | **19.0x** | 13.08s | 4.19s | 13.52s |
| `-c 'keys'` | **482.2ms** | **25.1x** | 12.10s | 5.02s | 12.70s |
| `-c 'select(.type == "PushEvent")'` | **488.3ms** | **44.8x** | 21.87s | 6.57s | 15.37s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **887.7ms** | **16.3x** | 14.46s | 6.03s | 15.13s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.98s** | **6.8x** | 13.57s | 6.91s | 15.69s |


### linux-x86_64

# GH Archive Benchmark

> Generated: 2026-02-18T00:30:04Z on `linux-x86_64` (total time: 452s)
> 1 runs, 1 warmup via [hyperfine](https://github.com/sharkdp/hyperfine).
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

### NDJSON (gharchive.ndjson, 1.1GB, parallel processing)

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `'.actor.login'` | **272.4ms** | **51.0x** | 13.90s | 6.40s | 13.30s |
| `-c 'length'` | **344.3ms** | **40.1x** | 13.81s | 6.19s | 13.21s |
| `-c 'keys'` | **469.9ms** | **30.9x** | 14.54s | 6.61s | 13.63s |
| `-c 'select(.type == "PushEvent")'` | **268.9ms** | **70.6x** | 18.98s | 8.58s | 15.49s |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **477.7ms** | **30.6x** | 14.64s | 7.64s | 13.95s |
| `-c '{type, commits: [.payload.commits[]?.message]}'` | **1.12s** | **13.0x** | 14.63s | 7.40s | 14.02s |


## NDJSON Memory

### darwin-arm64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-18T00:38:46Z on `Apple M1 (Virtual) (7 GB)` (total time: 365s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **113.4 MB** | **25.29x** | 4.5 MB | 1.12 GB | 18.0 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **113.2 MB** | **25.15x** | 4.5 MB | 1.12 GB | 16.2 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **125.2 MB** | **27.93x** | 4.5 MB | 1.12 GB | 20.1 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **113.4 MB** | **25.29x** |
| jq | 4.5 MB | 1.00x |
| jaq | 1.12 GB | 255.05x |
| gojq | 18.0 MB | 4.01x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — NDJSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type ndjson`. Do not edit manually.
> Last updated: 2026-02-18T00:38:06Z on `linux-x86_64` (total time: 314s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `gharchive.ndjson` (1131 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.type'` | **175.2 MB** | **62.03x** | 2.8 MB | 1.11 GB | 11.3 MB |
| `-c 'select(.type == "PushEvent") | .actor.login'` | **181.2 MB** | **67.02x** | 2.7 MB | 1.11 GB | 11.4 MB |
| `-c '{type, repo: .repo.name, actor: .actor.login}'` | **180.1 MB** | **66.63x** | 2.7 MB | 1.11 GB | 12.1 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **180.1 MB** | **66.63x** |
| jq | 2.7 MB | 1.00x |
| jaq | 1.11 GB | 421.62x |
| gojq | 11.4 MB | 4.22x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

---

## JSON Speed

### darwin-arm64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T00:20:24Z on `Apple M1 (Virtual) (7 GB)` (total time: 600s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **50.8ms** | **32.4x** | 1.65s | 343.4ms | 663.3ms |
| `-c '.statuses'` | large_twitter.json | **282.1ms** | **5.9x** | 1.66s | 374.4ms | 720.6ms |
| `'.statuses|length'` | large_twitter.json | **39.0ms** | **13.3x** | 519.8ms | 229.6ms | 474.0ms |
| `-c 'keys'` | large_twitter.json | **40.0ms** | **12.9x** | 516.9ms | 221.1ms | 434.8ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **140.8ms** | **3.7x** | 524.6ms | 234.1ms | 471.9ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **49.6ms** | **11.1x** | 550.7ms | 263.9ms | 457.9ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **74.0ms** | **13.4x** | 992.3ms | 304.8ms | 549.7ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **79.7ms** | **12.8x** | 1.02s | 317.5ms | 563.6ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **41.8ms** | **12.4x** | 519.2ms | 257.7ms | 470.9ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **42.8ms** | **12.2x** | 522.8ms | 225.2ms | 444.5ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **173.9ms** | **3.1x** | 547.6ms | 243.3ms | 456.7ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **138.0ms** | **3.8x** | 525.0ms | 229.2ms | 437.9ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **144.3ms** | **3.9x** | 564.1ms | 286.1ms | 470.5ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **211.5ms** | **2.5x** | 529.2ms | 251.1ms | 475.3ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **466.7ms** | **4.2x** | 1.97s | 2.00s | 2.41s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **218.6ms** | **2.4x** | 529.2ms | 240.2ms | 468.7ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **204.6ms** | **2.6x** | 537.0ms | 246.0ms | 468.1ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **209.0ms** | **2.6x** | 541.5ms | 246.4ms | 469.5ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **132.5ms** | **4.0x** | 523.5ms | 233.0ms | 449.1ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **143.6ms** | **4.6x** | 655.3ms | 244.7ms | 474.4ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **185.0ms** | **3.5x** | 650.5ms | 411.7ms | 482.7ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **535.6ms** | **10.6x** | 5.69s | 4.11s | 3.24s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **367.2ms** | **5.8x** | 2.15s | 473.7ms | 988.9ms |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **401.3ms** | **4.7x** | 1.90s | 454.3ms | 1.06s |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **157.2ms** | **4.0x** | 631.4ms | 303.6ms | 519.3ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **209.9ms** | **2.7x** | 564.5ms | 265.7ms | 499.2ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **163.3ms** | **3.4x** | 562.1ms | 244.8ms | 494.7ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **569.6ms** | **1.6x** | 935.9ms | 426.5ms | 627.0ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **272.0ms** | **2.4x** | 643.3ms | 248.7ms | 506.9ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **294.4ms** | **2.1x** | 621.2ms | 274.8ms | 623.2ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **963 MB/s** | **32.4x** | 30 MB/s | 143 MB/s | 74 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **5.1x** | 2.4x | 1.3x |

Geometric mean of per-filter speedups (median time). Higher is better.

### linux-x86_64

# Benchmarks

> Auto-generated by `cargo run --release --bin bench_tools -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T00:20:22Z on `linux-x86_64` (total time: 582s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

All benchmarks: warm cache (`--warmup 1`), 3 runs, output to pipe.
Median of 3 runs via [hyperfine](https://github.com/sharkdp/hyperfine).

| Filter | File | **qj** | vs jq | jq | jaq | gojq |
|--------|------|------:|------:|------:|------:|------:|
| `-c '.'` | large_twitter.json | **89.9ms** | **17.2x** | 1.55s | 645.0ms | 1.01s |
| `-c '.statuses'` | large_twitter.json | **370.7ms** | **4.0x** | 1.50s | 646.1ms | 1.01s |
| `'.statuses|length'` | large_twitter.json | **67.6ms** | **13.9x** | 941.2ms | 337.9ms | 595.7ms |
| `-c 'keys'` | large_twitter.json | **67.5ms** | **13.8x** | 934.3ms | 338.9ms | 596.0ms |
| `'.statuses[]|.user.name'` | large_twitter.json | **192.3ms** | **4.3x** | 817.5ms | 361.0ms | 636.7ms |
| `-c '.statuses[]|.user.name'` | large_twitter.json | **67.2ms** | **12.2x** | 821.1ms | 355.9ms | 637.1ms |
| `-c '.statuses|map(.user)'` | large_twitter.json | **93.0ms** | **12.2x** | 1.14s | 469.4ms | 751.8ms |
| `-c '.statuses|map({user, text})'` | large_twitter.json | **99.2ms** | **12.1x** | 1.20s | 502.4ms | 772.7ms |
| `-c '.statuses|map(type)'` | large_twitter.json | **67.6ms** | **13.8x** | 935.6ms | 370.9ms | 604.3ms |
| `-c '.statuses|map(length)'` | large_twitter.json | **67.5ms** | **13.9x** | 938.3ms | 337.9ms | 596.2ms |
| `'.statuses[]|select(.retweet_count>0)|{user:.user.screen_name,n:.retweet_count}'` | large_twitter.json | **212.2ms** | **3.9x** | 836.1ms | 374.7ms | 642.1ms |
| `'[.statuses[]|.retweet_count|floor]'` | large_twitter.json | **197.9ms** | **4.8x** | 944.2ms | 348.8ms | 601.9ms |
| `'[.statuses[]|.user.screen_name|split("_")|join("-")]'` | large_twitter.json | **196.1ms** | **5.0x** | 974.7ms | 434.1ms | 618.2ms |
| `'[.statuses[]|.user.screen_name]|unique|length'` | large_twitter.json | **283.9ms** | **3.3x** | 946.7ms | 362.6ms | 637.9ms |
| `'[paths(scalars)]|length'` | large_twitter.json | **501.0ms** | **6.2x** | 3.12s | 3.35s | 3.53s |
| `'.statuses[0]|map_values(tojson)'` | large_twitter.json | **279.4ms** | **3.3x** | 930.6ms | 336.3ms | 603.4ms |
| `'reduce .statuses[] as $s (0; . + $s.retweet_count)'` | large_twitter.json | **277.8ms** | **3.4x** | 947.4ms | 353.7ms | 619.5ms |
| `'.statuses[] | . as $s | {name: $s.user.screen_name, rts: $s.retweet_count}'` | large_twitter.json | **286.0ms** | **2.9x** | 839.2ms | 381.2ms | 656.4ms |
| `'[.statuses[].user.screen_name][:5]'` | large_twitter.json | **194.2ms** | **4.9x** | 954.1ms | 355.0ms | 613.9ms |
| `'[.statuses[] | try (1 / .retweet_count)]'` | large_twitter.json | **200.3ms** | **4.8x** | 958.4ms | 353.9ms | 621.4ms |
| `'[.statuses[] | if .retweet_count > 10 then "viral" elif .retweet_count > 0 then "shared" else "original" end]'` | large_twitter.json | **203.0ms** | **4.7x** | 952.8ms | 358.9ms | 625.3ms |
| `-c 'walk(if type == "boolean" then not else . end)'` | large_twitter.json | **581.2ms** | **11.0x** | 6.39s | 5.45s | 3.50s |
| `-c '.statuses[0].retweet_count |= . + 1'` | large_twitter.json | **371.8ms** | **4.1x** | 1.53s | 639.2ms | 1.00s |
| `-c '.statuses[] |= (.retweet_count += 1)'` | large_twitter.json | **390.7ms** | **4.1x** | 1.62s | 652.8ms | 1.06s |
| `-c '[.statuses[]|.user.screen_name|gsub("_"; "-")]'` | large_twitter.json | **212.1ms** | **4.9x** | 1.05s | 447.8ms | 690.2ms |
| `-c '[.statuses[]|"@\(.user.screen_name): \(.text[0:30])"]'` | large_twitter.json | **286.9ms** | **3.4x** | 982.7ms | 376.8ms | 645.4ms |
| `-c '[.statuses[]|.user.screen_name|@base64]'` | large_twitter.json | **193.7ms** | **4.9x** | 943.8ms | 363.2ms | 608.7ms |
| `'.statuses | group_by(.user.screen_name) | length'` | large_twitter.json | **302.7ms** | **3.0x** | 914.0ms | 379.1ms | 629.2ms |
| `-c '.statuses | sort_by(.retweet_count) | .[-1].user.screen_name'` | large_twitter.json | **289.7ms** | **3.3x** | 960.7ms | 358.5ms | 626.0ms |
| `-c 'def hi(rt): if rt > 10 then "viral" elif rt > 0 then "shared" else "none" end; [.statuses[] | hi(.retweet_count)]'` | large_twitter.json | **290.5ms** | **3.3x** | 944.6ms | 352.8ms | 618.4ms |

### Throughput

Peak parse throughput (`-c '.'` on large_twitter.json, 49MB):

| **qj** | vs jq | jq | jaq | gojq |
|------|------|------|------|------|
| **544 MB/s** | **17.2x** | 32 MB/s | 76 MB/s | 48 MB/s |

### Summary (times faster than jq)

| **qj** | jaq | gojq |
|------|------|------|
| **5.8x** | 2.4x | 1.5x |

Geometric mean of per-filter speedups (median time). Higher is better.

## JSON Memory

### darwin-arm64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T00:38:17Z on `Apple M1 (Virtual) (7 GB)` (total time: 28s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **248.4 MB** | **0.84x** | 294.6 MB | 302.3 MB | 311.9 MB |
| `-c '.statuses[0].user.screen_name'` | **507.4 MB** | **1.76x** | 288.2 MB | 302.3 MB | 257.8 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **508.7 MB** | **1.76x** | 288.7 MB | 303.2 MB | 260.0 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **355.5 MB** | **1.21x** | 293.2 MB | 302.6 MB | 264.6 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **507.4 MB** | **1.73x** |
| jq | 293.2 MB | 1.00x |
| jaq | 302.6 MB | 1.03x |
| gojq | 264.6 MB | 0.90x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

### linux-x86_64

# Memory Usage — JSON

> Auto-generated by `cargo run --release --bin bench_mem -- --type json`. Do not edit manually.
> Last updated: 2026-02-18T00:37:36Z on `linux-x86_64` (total time: 29s)
> Tools: qj 0.1.0, jq-1.8.1, jaq 2.3.0, gojq 0.12.18 (rev: fa534a1/go1.25.4)

Input: `large_twitter.json` (49 MB). Median peak RSS of 3 runs via `wait4()` rusage.

| Filter | **qj** | vs jq | jq | jaq | gojq |
|--------|------:|------:|------:|------:|------:|
| `-c '.'` | **217.9 MB** | **0.78x** | 278.7 MB | 300.8 MB | 315.3 MB |
| `-c '.statuses[0].user.screen_name'` | **322.9 MB** | **1.19x** | 271.0 MB | 300.8 MB | 261.8 MB |
| `'[.statuses[] | .user.screen_name] | unique | length'` | **323.1 MB** | **1.19x** | 271.4 MB | 302.8 MB | 264.1 MB |
| `-c '.statuses | map({user: .user.screen_name, rt: .retweet_count})'` | **323.0 MB** | **1.17x** | 275.3 MB | 302.8 MB | 268.4 MB |

### Summary

| Tool | Median peak RSS | vs jq |
|------|----------------:|------:|
| **qj** | **323.0 MB** | **1.17x** |
| jq | 275.3 MB | 1.00x |
| jaq | 302.8 MB | 1.10x |
| gojq | 268.4 MB | 0.97x |

Lower is better. "vs jq" = tool\_RSS / jq\_RSS.

